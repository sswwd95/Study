import tensorflow as tf
import matplotlib.pyplot as plt
x = [1., 2., 3.]
y = [3., 5., 7.]

w = tf.compat.v1.placeholder(tf.float32)

hypothesis = x * w

cost = tf.reduce_mean(tf.square(hypothesis - y)) 
# loss = mse, mae로 바꾸려면? square대신 absolute(abs) 사용

w_history = []
cost_history = []
# history = model.fit의 개념
with tf.compat.v1.Session() as sess:
    # sess.run(tf.global_variables_initializer()) 
    # 왜 안들어가? 텐서플로우의 variable(변수) 선언 없어서 / cost, hypothesis 등 이런 변수들은 파이썬의 변수라고 생각
    for i in range(-30,50): 
        curr_w = i * 0.1 # i값은 1단위로 가겠지만 0.1씩 증가. 
        curr_cost = sess.run(cost, feed_dict={w:curr_w}) # -30 * 0.1 ~

        w_history.append(curr_w)
        cost_history.append(curr_cost)
print("===========================================")
print(w_history)
print("===========================================")
print(cost_history)
print("===========================================")

plt.plot(w_history, cost_history)
plt.show()

'''
[-3.0, -2.9000000000000004, -2.8000000000000003, -2.7, -2.6, -2.5, -2.4000000000000004, -2.3000000000000003, -2.2, -2.1, -2.0, -1.9000000000000001, -1.8, -1.7000000000000002, -1.6, -1.5, -1.4000000000000001, -1.3, -1.2000000000000002, -1.1, -1.0, -0.9, -0.8, -0.7000000000000001, -0.6000000000000001, -0.5, -0.4, -0.30000000000000004, -0.2, -0.1, 0.0, 0.1, 0.2, 0.30000000000000004, 0.4, 0.5, 0.6000000000000001, 0.7000000000000001, 0.8, 0.9, 1.0, 1.1, 1.2000000000000002, 1.3, 1.4000000000000001, 1.5, 1.6, 1.7000000000000002, 1.8, 1.9000000000000001, 2.0, 2.1, 2.2, 2.3000000000000003, 2.4000000000000004, 2.5, 2.6, 2.7, 2.8000000000000003, 2.9000000000000004, 3.0, 3.1, 3.2, 3.3000000000000003, 3.4000000000000004, 3.5, 3.6, 3.7, 3.8000000000000003, 3.9000000000000004, 4.0, 4.1000000000000005, 4.2, 4.3, 4.4, 4.5, 4.6000000000000005, 4.7, 4.800000000000001, 4.9]
===========================================
[137.66667, 132.64668, 127.72, 122.886665, 118.14666, 113.5, 108.94668, 104.486664, 100.119995, 95.84666, 91.666664, 87.579994, 83.58667, 79.68667, 75.88, 72.166664, 68.54667, 65.02, 61.58667, 58.246662, 55.0, 51.84667, 48.786663, 45.820004, 42.946667, 40.166668, 37.48, 34.88667, 32.38667, 29.980001, 27.666666, 25.446665, 23.320002, 21.286667, 19.346666, 17.5, 15.746666, 14.086667, 12.52, 11.046666, 9.666667, 8.38, 7.186666, 6.0866675, 5.0800004, 4.1666665, 3.3466663, 2.6199992, 1.9866672, 1.4466668, 1.0, 0.64666694, 0.3866665, 0.22000007, 0.14666665, 0.16666667, 0.27999985, 0.486667, 0.78666633, 1.1800009, 1.6666666, 2.2466652, 2.9200008, 3.6866658, 4.5466685, 5.5, 6.5466638, 7.686668, 8.919999, 10.24667, 11.666667, 13.179997, 14.786663, 16.48667, 18.280005, 20.166666, 22.146662, 24.219995, 26.386673, 28.646673]

'''